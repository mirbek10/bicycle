import React, { useState } from 'react';
import './review.css';

const initialReviews = [
  {
    name: 'Антон К.',
    rating: 5,
    text: 'Я в полном восторге! Велосипед буквально летит по треку. Отличная аэродинамика, управляемость на высшем уровне. Не пожалел ни секунды о покупке. Это техника для тех, кто хочет выжимать максимум на каждом круге.',
  },
  {
    name: 'Марина Л.',
    rating: 4,
    text: 'Очень понравилось качество сборки и лёгкость. Немного не хватило мягкости на высоких скоростях, но в целом это лучшее, что я пробовала. Даже визуально он выглядит как гоночный снаряд.',
  },
  {
    name: 'Игорь Н.',
    rating: 5,
    text: 'Это мой первый трековый байк — и сразу такая удача. Потрясающая передача мощности, никаких лишних вибраций. Велосипед настолько точно отрабатывает каждое движение, что кажется частью тела.',
  },
  {
    name: 'Дарья П.',
    rating: 4,
    text: 'Стильный, надёжный и действительно быстрый. Кататься на нём — одно удовольствие. Единственное — пришлось немного подрегулировать посадку. Но теперь каждый выезд на трек — как праздник.',
  },
  {
    name: 'Владислав М.',
    rating: 5,
    text: 'Невероятно! Велосипед будто продолжение моего тела. На треке показывает себя идеально. Лёгкий, точный, резкий — идеально для агрессивной езды.',
  },
  {
    name: 'Екатерина С.',
    rating: 5,
    text: 'Очень плавный ход, при этом достаточно жёсткий для соревновательной езды. Дизайн на высоте, каждый раз собираю взгляды. Настоящий "болида" в мире великов.',
  },
  {
    name: 'Алексей Т.',
    rating: 4,
    text: 'Немного дороговато, но ты понимаешь, за что платишь. Продумано всё: от рамки до тормозов. После нескольких тренировок понял — это надолго.',
  },
  {
    name: 'Настя В.',
    rating: 5,
    text: 'Брала велосипед для тренировок — а в итоге участвую в гонках. Он буквально вдохновляет на большее. Стал стимулом перейти на новый уровень.',
  },
  {
    name: 'Илья Г.',
    rating: 5,
    text: 'Это техника уровня PRO. Абсолютно точные переключения, мгновенный отклик. Он будто создан для того, чтобы выигрывать и не уставать.',
  },
  {
    name: 'Светлана Е.',
    rating: 4,
    text: 'Мне всё нравится, кроме сидения — пришлось заменить на более мягкое. Но сам байк — настоящая ракета. Надёжный и мощный.',
  },
  {
    name: 'Георгий Л.',
    rating: 5,
    text: 'Такого удовольствия от езды я давно не испытывал. Велосипед буквально заряжает энергией. Хочется кататься ещё и ещё.',
  },
  {
    name: 'Полина Ч.',
    rating: 5,
    text: 'Влюбилась с первой поездки! Он не просто красивый, он идеально сбалансирован. Даже не верится, как легко он набирает скорость. Удивительный байк.',
  },
  {
    name: 'Сергей Ф.',
    rating: 5,
    text: 'Уже участвовал с ним в 3 соревнованиях — результат всегда выше ожидаемого. Благодаря жёсткости рамы и низкому весу можно реально побеждать.',
  },
  {
    name: 'Олеся Н.',
    rating: 5,
    text: 'Купила, чтобы кататься на велотреке с друзьями. Теперь это не просто хобби, а настоящая страсть. Велосипед вдохновляет на максимум.',
  },
  {
    name: 'Михаил С.',
    rating: 5,
    text: 'Не ожидал, что можно так кайфовать от езды. Плавность, точность и агрессивность в одном. Велик — огонь!',
  },
];

const ReviewPage = () => {
  const [reviews, setReviews] = useState(initialReviews);
  const [newReview, setNewReview] = useState({ name: '', text: '', rating: 0 });

  const handleSubmit = (e) => {
    e.preventDefault();
    if (newReview.name && newReview.text.length > 20 && newReview.rating > 0) {
      setReviews([newReview, ...reviews].slice(0, 15)); 
      setNewReview({ name: '', text: '', rating: 0 });
    }
  };

  return (
    <div className="review-container">
      <h1>Отзывы о велосипеде</h1>

      <div className="review-form">
        <h3>Оставьте свой отзыв</h3>
        <form onSubmit={handleSubmit}>
          <input
            type="text"
            placeholder="Ваше имя"
            value={newReview.name}
            onChange={(e) => setNewReview({ ...newReview, name: e.target.value })}
          />
          <textarea
            placeholder="Ваш подробный отзыв (не менее 20 символов)"
            value={newReview.text}
            onChange={(e) => setNewReview({ ...newReview, text: e.target.value })}
          />
          <div className="stars-input">
            {[1, 2, 3, 4, 5].map((star) => (
              <span
                key={star}
                className={star <= newReview.rating ? 'active' : ''}
                onClick={() => setNewReview({ ...newReview, rating: star })}
              >
                ★
              </span>
            ))}
          </div>
          <button type="submit">Добавить отзыв</button>
        </form>
      </div>

      <div className="review-grid">
        {reviews.map((review, i) => (
          <div className="review-card" key={i}>
            <h4>{review.name}</h4>
            <div className="stars">
              {'★'.repeat(review.rating)}
              {'☆'.repeat(5 - review.rating)}
            </div>
            <p>{review.text}</p>
          </div>
        ))}
      </div>
    </div>
  );
};

export default ReviewPage;
